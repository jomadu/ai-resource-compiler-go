{
  "tasks": [
    {
      "id": "TASK-001",
      "priority": 1,
      "status": "DONE",
      "dependencies": [],
      "description": "Update kiro-compiler.md spec to match markdown-compiler.md pattern",
      "comments": [
        "Reference: PLAN.md Phase 1, UPDATES.md 'Pattern for Updating Target Compiler Specs'",
        "Update interface: Compile(resource *airesource.Resource), SupportedVersions() returns ['ai-resource/draft']",
        "Add full algorithm with switch/case for Rule, Ruleset, Prompt, Promptset kinds",
        "Add compileRule() and compilePrompt() pseudocode showing body resolution and validation",
        "Update examples: Ruleset expansion, standalone Rule/Prompt, body with fragments",
        "No frontmatter (same as markdown target)",
        "Verify .md extension for both rules and prompts",
        "Acceptance: Follows markdown-compiler.md structure, shows proper expansion and resolution",
        "Completed: Updated interface, algorithm, and examples to match markdown-compiler.md pattern"
      ]
    },
    {
      "id": "TASK-002",
      "priority": 1,
      "status": "DONE",
      "dependencies": [],
      "description": "Update cursor-compiler.md spec to match markdown-compiler.md pattern with MDC frontmatter",
      "comments": [
        "Reference: PLAN.md Phase 1, UPDATES.md 'Pattern for Updating Target Compiler Specs'",
        "Update interface: Compile(resource *airesource.Resource), SupportedVersions() returns ['ai-resource/draft']",
        "Add full algorithm with switch/case for Rule, Ruleset, Prompt, Promptset kinds",
        "Add MDC frontmatter generation for rules: description, globs (from scope), alwaysApply (from enforcement)",
        "Add scope extraction logic: flatten []ScopeEntry into []string for globs field",
        "Add compileRule() showing frontmatter + metadata block + header + body",
        "Add compilePrompt() showing body only (no frontmatter)",
        "Update examples: Show frontmatter with scope extraction, Ruleset expansion",
        "Verify .mdc extension for rules, .md for prompts",
        "Acceptance: Shows MDC frontmatter generation, scope extraction from []ScopeEntry",
        "Completed: Updated interface, algorithm with switch/case, scope extraction, edge cases"
      ]
    },
    {
      "id": "TASK-003",
      "priority": 1,
      "status": "DONE",
      "dependencies": [],
      "description": "Update claude-compiler.md spec to match markdown-compiler.md pattern with paths frontmatter and SKILL.md structure",
      "comments": [
        "Reference: PLAN.md Phase 1, UPDATES.md 'Pattern for Updating Target Compiler Specs'",
        "Update interface: Compile(resource *airesource.Resource), SupportedVersions() returns ['ai-resource/draft']",
        "Add full algorithm with switch/case for Rule, Ruleset, Prompt, Promptset kinds",
        "Add optional paths frontmatter for rules (only if scope defined)",
        "Add scope extraction logic: flatten []ScopeEntry into []string for paths field",
        "Add special prompt path handling: BuildClaudeCollectionPath() and BuildClaudeStandalonePath()",
        "Prompt paths: {collection}_{id}/SKILL.md or {id}/SKILL.md",
        "Add compileRule() showing optional frontmatter + metadata block + header + body",
        "Add compilePrompt() showing body only in SKILL.md file",
        "Update examples: Show directory structure for prompts, optional frontmatter",
        "Verify .md extension for rules, /SKILL.md for prompts",
        "Acceptance: Shows optional frontmatter, special SKILL.md paths, scope extraction",
        "Completed: Updated interface, algorithm with switch/case, scope extraction, edge cases"
      ]
    },
    {
      "id": "TASK-004",
      "priority": 1,
      "status": "DONE",
      "dependencies": [],
      "description": "Update copilot-compiler.md spec to match markdown-compiler.md pattern with applyTo frontmatter for both rules and prompts",
      "comments": [
        "Reference: PLAN.md Phase 1, UPDATES.md 'Pattern for Updating Target Compiler Specs'",
        "Update interface: Compile(resource *airesource.Resource), SupportedVersions() returns ['ai-resource/draft']",
        "Add full algorithm with switch/case for Rule, Ruleset, Prompt, Promptset kinds",
        "Add applyTo frontmatter for BOTH rules and prompts",
        "Add scope extraction logic: flatten []ScopeEntry into []string for applyTo field",
        "Handle missing scope: use empty array [] for applyTo when no scope defined",
        "Add compileRule() showing applyTo frontmatter + metadata block + header + body",
        "Add compilePrompt() showing applyTo frontmatter + body (no metadata, no header)",
        "Update examples: Show frontmatter on both rules and prompts, scope extraction",
        "Verify .instructions.md extension for rules, .prompt.md for prompts",
        "Acceptance: Shows applyTo on both types, scope extraction, handles missing scope",
        "Completed: Updated interface, algorithm with switch/case, scope extraction, edge cases"
      ]
    },
    {
      "id": "TASK-005",
      "priority": 2,
      "status": "TODO",
      "dependencies": [
        "TASK-001",
        "TASK-002",
        "TASK-003",
        "TASK-004"
      ],
      "description": "Update cli-design.md spec with API version and verify examples",
      "comments": [
        "Reference: PLAN.md Phase 2, UPDATES.md 'Key API Differences'",
        "Update API version references from 'ai-resource/v1' to 'ai-resource/draft'",
        "Verify all command examples are still valid",
        "Update any resource structure references to match actual API",
        "Minimal changes expected - mostly version updates",
        "Acceptance: All version references correct, examples valid"
      ]
    },
    {
      "id": "TASK-006",
      "priority": 3,
      "status": "TODO",
      "dependencies": [
        "TASK-001",
        "TASK-002",
        "TASK-003",
        "TASK-004",
        "TASK-005"
      ],
      "description": "Remove working documents PLAN.md and UPDATES.md after spec updates complete",
      "comments": [
        "Delete PLAN.md - working document no longer needed",
        "Delete specs/UPDATES.md - working document no longer needed",
        "Only execute after all spec updates verified complete",
        "Acceptance: Both files removed, all specs updated and consistent"
      ]
    }
  ]
}
