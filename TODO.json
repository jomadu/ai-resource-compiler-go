{
  "tasks": [
    {
      "id": "TASK-001",
      "priority": 1,
      "status": "DONE",
      "dependencies": [],
      "description": "Initialize Go module - Run 'go mod init github.com/jomadu/ai-resource-compiler-go' and add ai-resource-core-go dependency. See PLAN.md Task 1.1, AUDIT.md #1",
      "comments": [
        "Completed: go.mod initialized with ai-resource-core-go dependency. go build ./... succeeds."
      ]
    },
    {
      "id": "TASK-002",
      "priority": 1,
      "status": "DONE",
      "dependencies": [
        "TASK-001"
      ],
      "description": "Implement core compiler types in pkg/compiler/types.go - Define Target enum (5 constants), CompileOptions, CompilationResult. See PLAN.md Task 1.2, AUDIT.md #2, specs/compiler-architecture.md Data Structures",
      "comments": [
        "Completed: Created pkg/compiler/types.go with Target enum (5 constants), CompileOptions, and CompilationResult. go build ./... succeeds."
      ]
    },
    {
      "id": "TASK-003",
      "priority": 1,
      "status": "DONE",
      "dependencies": [
        "TASK-001"
      ],
      "description": "Implement TargetCompiler interface in pkg/compiler/interface.go - Define interface with Name(), SupportedVersions(), Compile() methods. See PLAN.md Task 1.3, AUDIT.md #2, specs/compiler-architecture.md",
      "comments": [
        "Completed: Created pkg/compiler/interface.go with TargetCompiler interface. Used placeholder Resource type until ai-resource-core-go is implemented. go build ./... succeeds."
      ]
    },
    {
      "id": "TASK-004",
      "priority": 1,
      "status": "DONE",
      "dependencies": [
        "TASK-001"
      ],
      "description": "Implement path generation functions in internal/format/paths.go - BuildCollectionPath(), BuildStandalonePath(), BuildClaudeCollectionPath(), BuildClaudeStandalonePath(). See PLAN.md Task 1.4, AUDIT.md #3, specs/compiler-architecture.md Shared Functions",
      "comments": [
        "Completed: Created internal/format/paths.go with 4 path generation functions. go build ./... succeeds."
      ]
    },
    {
      "id": "TASK-005",
      "priority": 1,
      "status": "DONE",
      "dependencies": [
        "TASK-001"
      ],
      "description": "Implement validation functions in internal/format/validation.go - ValidateID() (alphanumeric + hyphen + underscore only), ValidateRuleName() (no parentheses). See PLAN.md Task 1.5, AUDIT.md #4, specs/validation-rules.md",
      "comments": [
        "Completed: Created internal/format/validation.go with ValidateID() and ValidateRuleName(). go build ./... succeeds."
      ]
    },
    {
      "id": "TASK-006",
      "priority": 1,
      "status": "DONE",
      "dependencies": [
        "TASK-002",
        "TASK-003"
      ],
      "description": "Implement core compiler pipeline in pkg/compiler/compiler.go - Compiler struct, NewCompiler(), RegisterTarget(), Compile() with validation and orchestration. See PLAN.md Task 1.6, AUDIT.md #2, specs/compiler-architecture.md Algorithm",
      "comments": [
        "Completed: Created pkg/compiler/compiler.go with Compiler struct, NewCompiler(), RegisterTarget(), and Compile() method. Implements full validation and orchestration per spec. go build ./... and go vet ./... succeed."
      ]
    },
    {
      "id": "TASK-007",
      "priority": 2,
      "status": "DONE",
      "dependencies": [
        "TASK-001",
        "TASK-004",
        "TASK-005"
      ],
      "description": "Implement metadata generation in internal/format/metadata.go - GenerateRuleMetadataBlockFromRuleset(), GenerateRuleMetadataBlockFromRule() with YAML blocks and enforcement headers. See PLAN.md Task 2.1, AUDIT.md #5, specs/metadata-block.md",
      "comments": [
        "Completed: Created internal/format/metadata.go with GenerateRuleMetadataBlockFromRuleset() and GenerateRuleMetadataBlockFromRule(). Includes YAML metadata blocks, enforcement headers, optional field handling, and body resolution. go build ./... succeeds."
      ]
    },
    {
      "id": "TASK-008",
      "priority": 2,
      "status": "DONE",
      "dependencies": [
        "TASK-003",
        "TASK-004",
        "TASK-005",
        "TASK-007"
      ],
      "description": "Implement Markdown compiler in pkg/targets/markdown.go - MarkdownCompiler struct implementing TargetCompiler, .md extension, metadata blocks for rules. See PLAN.md Task 2.2, AUDIT.md #6, specs/markdown-compiler.md",
      "comments": [
        "Completed: Created pkg/targets/markdown.go with MarkdownCompiler implementing TargetCompiler interface. Handles Rule, Ruleset, Prompt, Promptset kinds. Added Prompt/Promptset types and exported ResolveBody in internal/format/metadata.go. go build ./... and go vet ./... succeed."
      ]
    },
    {
      "id": "TASK-009",
      "priority": 2,
      "status": "DONE",
      "dependencies": [
        "TASK-003",
        "TASK-004",
        "TASK-005",
        "TASK-007"
      ],
      "description": "Implement Kiro compiler in pkg/targets/kiro.go - KiroCompiler struct, identical format to Markdown, .md extension. See PLAN.md Task 2.3, AUDIT.md #7, specs/kiro-compiler.md",
      "comments": [
        "Completed: Created pkg/targets/kiro.go with KiroCompiler implementing TargetCompiler interface. Identical format to Markdown with .md extension. go build ./... succeeds."
      ]
    },
    {
      "id": "TASK-010",
      "priority": 2,
      "status": "DONE",
      "dependencies": [
        "TASK-003",
        "TASK-004",
        "TASK-005",
        "TASK-007"
      ],
      "description": "Implement Cursor compiler in pkg/targets/cursor.go - CursorCompiler struct, .mdc extension for rules with MDC frontmatter, .md for prompts. See PLAN.md Task 2.4, AUDIT.md #8, specs/cursor-compiler.md",
      "comments": [
        "Completed: Created pkg/targets/cursor.go with CursorCompiler implementing TargetCompiler interface. Handles Rule, Ruleset, Prompt, Promptset kinds. MDC frontmatter includes description, globs, alwaysApply. Rules use .mdc extension, prompts use .md. Added gopkg.in/yaml.v3 dependency. go build ./... and go vet ./... succeed."
      ]
    },
    {
      "id": "TASK-011",
      "priority": 2,
      "status": "DONE",
      "dependencies": [
        "TASK-003",
        "TASK-004",
        "TASK-005",
        "TASK-007"
      ],
      "description": "Implement Claude compiler in pkg/targets/claude.go - ClaudeCompiler struct, .md for rules, {id}/SKILL.md directory structure for prompts. See PLAN.md Task 2.5, AUDIT.md #9, specs/claude-compiler.md",
      "comments": [
        "Completed: Created pkg/targets/claude.go with ClaudeCompiler implementing TargetCompiler interface. Rules use .md extension with optional paths frontmatter. Prompts use {id}/SKILL.md directory structure. go build ./... succeeds."
      ]
    },
    {
      "id": "TASK-012",
      "priority": 2,
      "status": "DONE",
      "dependencies": [
        "TASK-003",
        "TASK-004",
        "TASK-005",
        "TASK-007"
      ],
      "description": "Implement Copilot compiler in pkg/targets/copilot.go - CopilotCompiler struct, .instructions.md for rules, .prompt.md for prompts, applyTo frontmatter. See PLAN.md Task 2.6, AUDIT.md #10, specs/copilot-compiler.md",
      "comments": [
        "Completed: Created pkg/targets/copilot.go with CopilotCompiler implementing TargetCompiler interface. Rules use .instructions.md extension with applyTo frontmatter and metadata blocks. Prompts use .prompt.md extension with applyTo frontmatter only. go build ./... succeeds."
      ]
    },
    {
      "id": "TASK-013",
      "priority": 2,
      "status": "DONE",
      "dependencies": [
        "TASK-006",
        "TASK-008",
        "TASK-009",
        "TASK-010",
        "TASK-011",
        "TASK-012"
      ],
      "description": "Register built-in target compilers in pkg/compiler/compiler.go - Update NewCompiler() to register all 5 targets (markdown, kiro, cursor, claude, copilot). See PLAN.md Task 2.7",
      "comments": [
        "Completed: Implemented init-based target registration. Each target compiler (markdown, kiro, cursor, claude, copilot) registers itself via init() function calling compiler.RegisterDefaultTarget(). NewCompiler() returns a compiler instance with all registered targets. go build ./... and go vet ./... succeed. Verified all 5 targets are registered."
      ]
    },
    {
      "id": "TASK-014",
      "priority": 3,
      "status": "DONE",
      "dependencies": [
        "TASK-013"
      ],
      "description": "Implement CLI main entry point in cmd/arc/main.go - Create arc command with flags (--target, --output, --flat, --help). See PLAN.md Task 3.1, AUDIT.md #11, specs/cli-design.md",
      "comments": [
        "Completed: Created cmd/arc/main.go with flag parsing using Go's flag package. Implements -target (repeatable), -output, -flat, -help flags. Validates resource file existence and target names. Placeholder compile() function for TASK-015. Note: Uses Go flag conventions (flags before positional args) rather than spec's flags-after-args format. go build ./... and go vet ./... succeed."
      ]
    },
    {
      "id": "TASK-015",
      "priority": 3,
      "status": "DONE",
      "dependencies": [
        "TASK-014"
      ],
      "description": "Implement compile command logic in cmd/arc/compile.go - Validate args, load resource, create compiler, compile resource. See PLAN.md Task 3.2, specs/cli-design.md Algorithm",
      "comments": [
        "Completed: Created cmd/arc/compile.go with compile() function. Loads YAML resource, converts string targets to Target enum, creates compiler, invokes Compile(), returns results. Implements outputStdout() with path separators. Placeholder outputFiles() for TASK-016. go build ./... and go vet ./... succeed."
      ]
    },
    {
      "id": "TASK-016",
      "priority": 3,
      "status": "DONE",
      "dependencies": [
        "TASK-014"
      ],
      "description": "Implement output handlers in cmd/arc/output.go - outputStdout() with separators, outputFiles() with directory creation and --flat support. See PLAN.md Task 3.3, specs/cli-design.md Output Modes",
      "comments": [
        "Completed: Created cmd/arc/output.go with outputStdout() and outputFiles(). Modified compile.go to compile each target separately for proper target tracking. outputStdout() prints target/path separator. outputFiles() creates directories with os.MkdirAll, supports --flat flag, reports to stderr. go build ./... and go vet ./... succeed."
      ]
    },
    {
      "id": "TASK-017",
      "priority": 3,
      "status": "DONE",
      "dependencies": [
        "TASK-015",
        "TASK-016"
      ],
      "description": "Install CLI tool - Run 'go install ./cmd/arc' to make arc command available system-wide. See PLAN.md Task 3.4",
      "comments": [
        "Completed: Ran 'go install ./cmd/arc' successfully. Binary installed to ~/go/bin/arc (3.4MB). Installation verified."
      ]
    },
    {
      "id": "TASK-018",
      "priority": 3,
      "status": "DONE",
      "dependencies": [
        "TASK-004"
      ],
      "description": "Write unit tests for path generation in internal/format/paths_test.go - Test all 4 path functions with examples from spec. See PLAN.md Task 4.1",
      "comments": [
        "Completed: Created internal/format/paths_test.go with tests for all 4 path functions (BuildCollectionPath, BuildStandalonePath, BuildClaudeCollectionPath, BuildClaudeStandalonePath). All tests pass."
      ]
    },
    {
      "id": "TASK-019",
      "priority": 3,
      "status": "DONE",
      "dependencies": [
        "TASK-005"
      ],
      "description": "Write unit tests for validation in internal/format/validation_test.go - Test ValidateID() and ValidateRuleName() with valid/invalid cases. See PLAN.md Task 4.2, specs/validation-rules.md Edge Cases",
      "comments": [
        "Completed: Created internal/format/validation_test.go with comprehensive tests for ValidateID() and ValidateRuleName(). Tests cover valid cases (alphanumeric, hyphens, underscores) and invalid cases (empty, special characters, parentheses). All tests pass."
      ]
    },
    {
      "id": "TASK-020",
      "priority": 3,
      "status": "DONE",
      "dependencies": [
        "TASK-007"
      ],
      "description": "Write unit tests for metadata generation in internal/format/metadata_test.go - Test both functions with full/minimal metadata, verify YAML structure and enforcement headers. See PLAN.md Task 4.3",
      "comments": [
        "Completed: Created internal/format/metadata_test.go with tests for GenerateRuleMetadataBlockFromRuleset() and GenerateRuleMetadataBlockFromRule(). Tests cover full and minimal metadata cases, verify YAML structure and enforcement headers. All tests pass."
      ]
    },
    {
      "id": "TASK-021",
      "priority": 3,
      "status": "DONE",
      "dependencies": [
        "TASK-008",
        "TASK-009",
        "TASK-010",
        "TASK-011",
        "TASK-012"
      ],
      "description": "Write unit tests for target compilers - Create *_test.go for each target (markdown, kiro, cursor, claude, copilot), test all resource kinds, verify paths and content. See PLAN.md Task 4.4",
      "comments": [
        "Completed: Created unit tests for all 5 target compilers (markdown_test.go, kiro_test.go, cursor_test.go, claude_test.go, copilot_test.go). Tests cover all 4 resource kinds (Rule, Ruleset, Prompt, Promptset), verify paths and content per spec. All tests pass."
      ]
    },
    {
      "id": "TASK-022",
      "priority": 3,
      "status": "DONE",
      "dependencies": [
        "TASK-013"
      ],
      "description": "Write integration tests in pkg/compiler/compiler_test.go - Test single/multi-target compilation, error handling, result aggregation. See PLAN.md Task 4.5",
      "comments": [
        "Completed: Created pkg/compiler/compiler_test.go with integration tests. Tests cover single-target compilation, multi-target compilation, ruleset expansion, error handling (missing apiVersion/kind/id, no targets, unknown target, unsupported version), and target registration. Uses mock compilers to avoid import cycles. All tests pass."
      ]
    },
    {
      "id": "TASK-023",
      "priority": 3,
      "status": "TODO",
      "dependencies": [
        "TASK-017"
      ],
      "description": "Write CLI integration tests in cmd/arc/arc_test.go - Test stdout/file output modes, multiple targets, error cases, flag parsing. See PLAN.md Task 4.6",
      "comments": []
    }
  ]
}
